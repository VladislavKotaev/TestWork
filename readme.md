Комментарии к тестовому заданию "Производство", выполненному Котаевым Владиславом Валентиновичем.

Текст самого задания содержится в файле description.pdf.
Я готов дополнительно ответить на любые вопросы по этому тестовому.

## DI
Поскольку задание требовало по возможности избегать сторонних библиотек, я решил реализовать всё самостоятельно.
В первую очередь - DI. Правильное использование DI положительно сказывается на архитектуре, а под запретом были именно сторонние контейнеры, так что я решил не отказываться от DI полностью.

Принципы работы: 
DIContainer имеет статический конструктор, при его вызове инстантиируется ProjectContext, который отвечает за объекты, нужные во время всего цикла работы приложения.
Контексты работают с двумя типами инсталлеров: моно инсталлеры нужны для объектов, на которые можно прокинуть ссылки в редакторе, не являющиеся наследниками MonoBehaviour инсталлеры вызываются по названию через рефлексию.
На всех сценах расположены экземпляры SceneContext, которые до вызова Awake остальных объектов сцены добавляются в контейнер. 
После добавления контекста сцены, по всей сцене ищутся IInjectable, у которых с помощью рефлексии вызывается метод Construct с нужными им параметрами.
Можно спавнить новые объекты с инъекцией после загрузки сцены с помощью класса DISpawner, либо использовать компонент AutoInjecter.

Я не реализовывал инъекцию для не-MonoBehaviour классов, поэтому они могут обращаться к контейнеру напрямую в своих конструкторах. В полноценном проекте я бы пользовался инъекцией в конструтор.  Помимо этого, моя реализация конечно же не настолько проработана и оптимизирована, как сторонние DI-контейнеры, но этого и не требовалось.

## Графика
Графика в этом проекте намеренно минималистична. Здания представляют из себя разноцветные кубы, интерфейс не использует сторонние спрайты. Я добавил лишь 6 иконок для ресурсов, поскольку они были обозначены в тексте задания. Иконки не нарушают ничьих авторских прав, поскольку были специально нарисованы моей женой.
Я учитывал пункт 3 требований, но посчитал, что сторонние ассеты тут излишни.

## Разрешение и интерфейс
Игра поддерживает обозначенные в требованиях 1080р в портретном режиме, но не ограничивается ими. Поворот экрана в мобильной версии отключен, но в редакторе можно посмотреть, что игра чувствует себя хорошо в широком спектре разрешений и соотношений сторон.
Помимо этого учитывается safe area - элементы интерфейса сдвинутся, чтобы не попадать под вырезы экрана.
Над оптимизацией графики не заморачивался по причинам её минимализма и сильном упоре на проработку кода.

## Рецепты и предметы
Добывающие и производящие здания используют рецепты. Рецепты позволяют указать виды и количество входящих и исходящих ресурсов и время крафта (поскольку тестовое требовало возможность настраивать скорость производства в настройках зданий, я добавил им коэффициент скорости, перемножающийся с рецептами). Рецепты сделаны максимально удобными для разных видов использования при расширении проекта. Например можно сделать рецепты для крафта из трёх и более различных ингредиентов или для сжигания ресурсов (например для получения энергии).
Интерфейсные окна сделаны под озвученные задачи, но им легко можно добавить автоматически изменяющееся количество ячеек и тд.

Внимание! Некоторые предметы создаются несколько секунд (вплоть до 10), это не баг, производство не стоит.

ItemDatasController позволяет получать доступ к скриптабл обжектам предметов. Во многих местах код использует только id предметов, но везде, где предметы должен указывать человек (в редакторе), для этого используются скриптабл обжекты. В процессе разработки id предметов могут измениться (это разрешается автоматически ItemDatasController'ом при нажатии "Find datas" в его Custom Editor'е), а названия предметов предполагаются неизменными для совместимости сохранений между версиями игры.

## Окна
Для всех окон можно без проблем сделать расширения и модификации под новые условия.
Белые квадраты в окнах - это пустые ячейки, они чаще всего кликабельны (нижняя ячейка здания с выбором ингредиентов для крафта никогда не кликабельна, некоторым ячейкам/окнам просто нечего показывать, пока нет нужных ресурсов). 

## Комментарии
В коде встречаются пояснения на тему того, почему было принято то или иное решение.

## Финал игры
Для победы требуется собрать 500 монет. Это значение настраивается в объекте GameSettings. 

## Мелкие пояснения
- Scripting Backend cтоит Mono исключительно потому, что собирается сильно быстрее. В продакшене должен быть IL2CPP.
- Бесполезный Directional Light стоит на стартовой сцене исключительно потому, что у текущей версии юнити есть баг с поломкой освещения при переходе между сценами, который может воспроизводиться, если этот Directional Light убрать. Его можно починить более правильными способами, но я посчитал, что в рамках задания это не имеет смысла.
- Если ещё остались вопросы - готов на всё ответить.